{"ast":null,"code":"var _jsxFileName = \"/home/danny/projects/r-fm-kanban-management/src/library/common/components/AppModal/EditAddTaskModal/EditorFormik/EditorFormik.tsx\",\n  _s = $RefreshSig$();\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { useFormikValues } from '.';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// declare module 'yup' {\n//    interface ArraySchema<T> {\n//       uniqueIn(message: string, mapper?: (a: T) => any): this;\n//    }\n// }\n\n// declare module 'yup' {\n//    interface ArraySchema<T> {\n//       uniqueIn(array: T[], message: string): this;\n//    }\n// }\n\n// Yup.addMethod(Yup.array, 'uniqueIn', function (array = [], message) {\n//    return this.test('uniqueIn', message, function (value) {\n//       return array.filter((item: any) => item === value).length < 2;\n//    });\n// });\n\nconst schema = Yup.object().shape({\n  title: Yup.string().trim().required(\"Can't be empty\"),\n  description: Yup.string().trim(),\n  subtasks: Yup.array().of(Yup.string().trim().required(\"Can't be empty\"))\n});\nschema.fields.subtasks = Yup.array().test('unique-subtasks', 'Subtasks must be unique', function (subtasks) {\n  if (!subtasks || subtasks.length === 0) {\n    // No subtasks, so it's valid\n    return true;\n  }\n  const uniqueSubtasks = new Set(subtasks);\n  return uniqueSubtasks.size === subtasks.length;\n}).of(Yup.string().trim().required(\"Can't be empty\"));\nexport const EditorFormik = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const {\n    initialValues,\n    submit\n  } = useFormikValues();\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: initialValues,\n    validationSchema: schema,\n    onSubmit: values => submit(values),\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 7\n  }, this);\n};\n_s(EditorFormik, \"C7mVacx7UNsmpRzQ6Gt1f1//0WE=\", false, function () {\n  return [useFormikValues];\n});\n_c = EditorFormik;\nvar _c;\n$RefreshReg$(_c, \"EditorFormik\");","map":{"version":3,"names":["Formik","Yup","useFormikValues","schema","object","shape","title","string","trim","required","description","subtasks","array","of","fields","test","length","uniqueSubtasks","Set","size","EditorFormik","children","initialValues","submit","values"],"sources":["/home/danny/projects/r-fm-kanban-management/src/library/common/components/AppModal/EditAddTaskModal/EditorFormik/EditorFormik.tsx"],"sourcesContent":["import { Formik, FormikProps } from 'formik';\nimport * as Yup from 'yup';\n\nimport { useFormikValues, Values } from '.';\n\ntype FormikValues = FormikProps<Values>;\n\ntype Props = {\n   children: (props: FormikValues) => React.ReactNode;\n};\n\n// declare module 'yup' {\n//    interface ArraySchema<T> {\n//       uniqueIn(message: string, mapper?: (a: T) => any): this;\n//    }\n// }\n\n// declare module 'yup' {\n//    interface ArraySchema<T> {\n//       uniqueIn(array: T[], message: string): this;\n//    }\n// }\n\n// Yup.addMethod(Yup.array, 'uniqueIn', function (array = [], message) {\n//    return this.test('uniqueIn', message, function (value) {\n//       return array.filter((item: any) => item === value).length < 2;\n//    });\n// });\n\nconst schema = Yup.object().shape({\n   title: Yup.string().trim().required(\"Can't be empty\"),\n   description: Yup.string().trim(),\n   subtasks: Yup.array().of(Yup.string().trim().required(\"Can't be empty\")),\n});\n\nschema.fields.subtasks = Yup.array()\n   .test('unique-subtasks', 'Subtasks must be unique', function (subtasks) {\n      if (!subtasks || subtasks.length === 0) {\n         // No subtasks, so it's valid\n         return true;\n      }\n      const uniqueSubtasks = new Set(subtasks);\n      return uniqueSubtasks.size === subtasks.length;\n   })\n   .of(Yup.string().trim().required(\"Can't be empty\"));\n\nexport const EditorFormik: React.FC<Props> = ({ children }) => {\n   const { initialValues, submit } = useFormikValues();\n\n   return (\n      <Formik\n         initialValues={initialValues}\n         validationSchema={schema}\n         onSubmit={(values) => submit(values)}\n      >\n         {children}\n      </Formik>\n   );\n};\n"],"mappings":";;AAAA,SAASA,MAAM,QAAqB,QAAQ;AAC5C,OAAO,KAAKC,GAAG,MAAM,KAAK;AAE1B,SAASC,eAAe,QAAgB,GAAG;AAAC;AAQ5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,MAAM,GAAGF,GAAG,CAACG,MAAM,EAAE,CAACC,KAAK,CAAC;EAC/BC,KAAK,EAAEL,GAAG,CAACM,MAAM,EAAE,CAACC,IAAI,EAAE,CAACC,QAAQ,CAAC,gBAAgB,CAAC;EACrDC,WAAW,EAAET,GAAG,CAACM,MAAM,EAAE,CAACC,IAAI,EAAE;EAChCG,QAAQ,EAAEV,GAAG,CAACW,KAAK,EAAE,CAACC,EAAE,CAACZ,GAAG,CAACM,MAAM,EAAE,CAACC,IAAI,EAAE,CAACC,QAAQ,CAAC,gBAAgB,CAAC;AAC1E,CAAC,CAAC;AAEFN,MAAM,CAACW,MAAM,CAACH,QAAQ,GAAGV,GAAG,CAACW,KAAK,EAAE,CAChCG,IAAI,CAAC,iBAAiB,EAAE,yBAAyB,EAAE,UAAUJ,QAAQ,EAAE;EACrE,IAAI,CAACA,QAAQ,IAAIA,QAAQ,CAACK,MAAM,KAAK,CAAC,EAAE;IACrC;IACA,OAAO,IAAI;EACd;EACA,MAAMC,cAAc,GAAG,IAAIC,GAAG,CAACP,QAAQ,CAAC;EACxC,OAAOM,cAAc,CAACE,IAAI,KAAKR,QAAQ,CAACK,MAAM;AACjD,CAAC,CAAC,CACDH,EAAE,CAACZ,GAAG,CAACM,MAAM,EAAE,CAACC,IAAI,EAAE,CAACC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;AAEtD,OAAO,MAAMW,YAA6B,GAAG,QAAkB;EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC;EACvD,MAAM;IAAEC,aAAa;IAAEC;EAAO,CAAC,GAAGrB,eAAe,EAAE;EAEnD,oBACG,QAAC,MAAM;IACJ,aAAa,EAAEoB,aAAc;IAC7B,gBAAgB,EAAEnB,MAAO;IACzB,QAAQ,EAAGqB,MAAM,IAAKD,MAAM,CAACC,MAAM,CAAE;IAAA,UAEpCH;EAAQ;IAAA;IAAA;IAAA;EAAA,QACH;AAEf,CAAC;AAAC,GAZWD,YAA6B;EAAA,QACLlB,eAAe;AAAA;AAAA,KADvCkB,YAA6B;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}